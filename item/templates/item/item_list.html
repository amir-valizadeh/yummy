{% extends 'base.html' %}
{% load category_tags %}
{% block content %}
    <h5 class="text-warning">{{ service.name }} menu</h5>
    <br>
    <nav class="navbar navbar-expand-lg navbar-light bg-warning">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'home' %}">Categories</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    {% for category in service.categories.all %}
                        <li class="nav-item">
                            <a class="nav-link"
                               href="#{{ category.slug }}-{{ category.pk }}">{{ category.name }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </nav>
    <br>
    {% for category in service.categories.all %}
        <div class="row" id="{{ category.slug }}-{{ category.pk }}">
        <h4 class="text-warning">{{ category.name }}</h4>
            {% filter_category items category as category_items %}
            {% for item in category_items %}
                <div class="col-lg-4">
                    <div class="card text-center" style="width: 25rem;margin-bottom: 20px">
                        <div class="card-body">
                            <h5 class="card-title text-danger">{{ item.name }}</h5>
                            <br>
                            {% if item.image %}
                                <img style="width: 190px; height: 120px; margin-bottom: 15px" class="img"
                                     src="{{ item.image.url }}"
                                     alt="{{ item.name }} image">
                            {% else %}
                                <img style="width: 190px; height: 120px; margin-bottom: 15px" class="img">
                            {% endif %}
                            <h6 class="card-subtitle mb-2 text-muted">Price : {{ item.price }}</h6>
                            <p class="card-text">{{ item.description | truncatewords:11 }}</p>
                            <a href="{{ item.get_absolute_url }}" class="btn btn-primary">Detail</a>
                            <a style="margin-left: 15px" href="#" class="btn btn-success">
                                Add to cart
                            </a>
                        </div>
                    </div>
                    <br>
                </div>

            {% endfor %}
        </div>
    {% endfor %}

{% endblock %}