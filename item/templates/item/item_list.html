{% extends 'base.html' %}
{% load category_tags %}
{% block content %}
    <ul style="background-color: bisque" class="nav nav-pills nav-fill">
        <li class="nav-item">
            <a class="nav-link text-black " aria-current="page" href="#">Menu</a>
        </li>
        <li class="nav-item">
            <a class="nav-link  text-black" href="#">Details</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-black" href="#">Comments</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-black " href="#" tabindex="-1" aria-disabled="true">Coupon</a>
        </li>
    </ul>
    <br>
    <div class="row py-3">
        <div class="col-3  text-center" id="sticky-sidebar">
            <div class="sticky-top">
                <h5>Categories</h5>
                <hr>
                <ul class="nav nav-pills flex-column mb-auto">
                    {% for category in service.categories.all %}
                        <li class="nav-link link-dark">
                            <a style="color: black"
                               href="#{{ category.slug }}-{{ category.pk }}" class="nav-link"
                               aria-current="page">
                                {{ category.name }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="col-9" id="main">
            <h5>{{ service.name }} menu</h5>
            <br>

            <br>
            {% for category in service.categories.all %}
                <h4>{{ category.name }}</h4>

                <div class="row" id="{{ category.slug }}-{{ category.pk }}"
                     style="margin-bottom: 20px; margin-top: 10px">
                    {% filter_category items category as category_items %}
                    {% for item in category_items %}
                        <div class="col-lg-4">
                            <div class="card text-center" style="width: 18rem;margin-bottom: 10px;height: 22rem">
                                <div class="card-body">
                                    <h5 class="card-title text-danger">{{ item.name }}</h5>
                                    <br>
                                    {% if item.image %}
                                        <img style="width: 190px; height: 120px; margin-bottom: 15px" class="img"
                                             src="{{ item.image.url }}"
                                             alt="{{ item.name }} image">
                                    {% else %}
                                        <img style="width: 190px; height: 120px; margin-bottom: 15px" class="img">
                                    {% endif %}
                                    <h6 class="card-subtitle mb-2 text-muted">Price : {{ item.price }}</h6>
                                    <p class="card-text">{{ item.description | truncatechars:30 }}</p>
                                    <a href="{{ item.get_absolute_url }}" class="btn btn-primary">Detail</a>
                                    <a style="margin-left: 15px" href="#" class="btn btn-success">
                                        Add to cart
                                    </a>
                                </div>
                            </div>
                            <br>
                        </div>

                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}